---
title: Ruby Programming Language Introduction
tags: ruby
---

<2.3>

## Ruby

> Ruby是__纯面向对象__的编程语言，同样支持__过程式__和__函数式__编程，拥有强大的__元编程__能力，可用于创建领域特定语言(DSL)。

Ruby是松本行弘(Matz)创立的一门语言，灵感源于Lisp, Smalltalk, Perl，包含了很多语法糖。

Ruby的包管理工具是`gem`，交互式shell是`irb`(interactive ruby)，使用`ri`查看文档，解释器是`ruby`。

## Ruby程序结构

### 词法结构

> 标记(token)。ruby解释器把程序解析为一个标记序列。标记包括字面量，注释，标点，标识符。
> 1. 组成这些标记的字符
> 2. 分隔这些标记的空白符

#### 注释

__行注释__

注释以`#`开头，到行末，字符串中的除外。

__嵌入式文档__

`=begin`开头，`=end`结束的多行文本

__文档化注释__

可以使用多行`#`和`=begin`、`=end`， 使用`=`数量来代表标题的级别。

#### 字面量

> 直接出现在代码中的值。

#### 标点

#### 标识符

> 标识符是一个名字，Ruby使用标识符对变量、常量、类、模块等进行命名。

Ruby的标识符由字母、数字、下划线组成，不能以数字开头。
按惯例，大写字母开头的是常量。

1. 标识符是大小写(ASCII字符集字母的大小写)敏感的
2. 标识符的字母可以是Unicode字符
3. 标识符开头或结尾可以出现标点
    1. `$`, 全局变量
    2. `@`, 实例变量`@`和类变量`@@`
    3. `?`, 返回布尔值的方法
    4. `!`, 方法后缀，表示方法会改变对象
    5. `=`, 可以省略，通常用于赋值

#### 关键字/保留字

1. Ruby解析器会特殊处理，语言相关的标记。
    - `__LINE__`, `__ENCODING__`, `__FILE__`
    - `BEGIN`, `END`
    - 语言相关
2. 类似关键字
    - `=begin`, `=end`, `__END__`
3. ruby类库用到的标记

#### 空白符

> 空白符包括空格符，制表符和换行符。

__语句终结与换行符__

Ruby中分号不是必须的，也可以使用换行来结束语句

__方法调用与空格符__

Ruby允许特定环境下方法调用的圆括号可以省略

### 句法结构

> 标记如何组成结构。Ruby中最基本的句法单元就是表达式。Ruby解释器将会评估表达式并且产生值。

__初级表达式__

最简单的表达式，直接代表值。包括
- 字面量
- 某些特定的关键字，如`true`, `false`, `self`
- 变量引用

操作符用于对多个值进行计算，通过操作符来组合成复合表达式。
表达式可以和关键字联合构成语句。
将表达式和语句组成参数化的单元，这些单元成为函数、方法、子例程等，在Ruby中叫做方法。
相关操作的方法组成类。
相关关联的类和独立于类的方法组成模块。

#### 块结构

> 嵌套语句构成块，块由关键字或标点进行分隔。

Ruby包括两种块结构
1. 一段与迭代器相关联的代码，可看做是传递给迭代器的代码段
2. 语句列表
    - Ruby不使用大括号作为分解符，而是使用关键字

### 文件结构

> 文件分布和执行