---
title: Mist of ActionScript
tags: as3
---

### [循环缓存](http://jacksondunstan.com/articles/5)

> `for/in`, `for each/in`中的方法调用会被缓存

``` actionscript
public function ZZZ()
{
    var type:String
    for(var i:int = 0; i < cacheArr().length; i++)
    {//cacheArr()结果不会被缓存
        trace(" i: " + i);
    }
    
    for each(type in cacheArr())
    {//cacheArr()结果会被缓存
        trace(" each type: " + type);
    }
    
    for(type in cacheArr())
    {//cacheArr()结果会被缓存
        trace("type: " + type);
    }
}

public function cacheArr():Array
{
    trace("#### invoke cache");
    return ['foo', 'bar', 'zoo'];
}

//输出结果
$$$$ invoke cache
 i: 0
$$$$ invoke cache
 i: 1
$$$$ invoke cache
 i: 2
$$$$ invoke cache
$$$$ invoke cache
 each type: foo
 each type: bar
 each type: zoo
$$$$ invoke cache
```

### [缺失数组元素](http://jacksondunstan.com/articles/19)

> 缺失的数组元素会被赋值为`undefined`

``` actionscript
var a:Array = [1, 2, , 4];
//等同于
var a:Array = [1, 2, 3, 4];

//编译不会报错
```

### [`===`与`==`](http://jacksondunstan.com/articles/30)

> `===`的两个操作数必须类型和类型转换后的值都相等才返回`true`，`==`只要类型转换后的值相等就返回`true`

### [逻辑或](http://jacksondunstan.com/articles/48)

> 如果逻辑或`||`第1个操作数类型转换为`true`就返回第1个操作数，不然就返回第2个操作数

``` actionscript
a || b
//等价于
a ? a : b;
```
### [有效字符串](http://jacksondunstan.com/articles/42)

> 转换为`Boolean`值时，只有空字符串(或为`null`)才为`false`，其他字符串都是`true`

